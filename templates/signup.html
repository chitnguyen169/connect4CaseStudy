{% extends 'base.html' %}


{% block content %}
    {# Show messages if form is not valid #}
    {% if form.errors %}
        {% for field in form %}
            {% for error in field.errors %}
                <div class="alert alert-danger">
                    <strong>{{ error|escape }}</strong>
                </div>
            {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
            <div class="alert alert-danger">
                <strong>{{ error|escape }}</strong>
            </div>
        {% endfor %}
    {% endif %}

    <div class="container">
        <div class="row">
            <div class="col-md-4 col-md-offset-4 ">
                <div class="login-panel panel panel-default">
                    <div class="panel-heading" style="background-color: #c0392b;">
                        <center class="panel-title" style="color:white; font-family: 'Raleway', sans-serif;">
                            Sign Up</center>
                    </div>
                    <div class="panel-body" style="background-color: #bdc3c7;">
                        <form method="post" action=".">{% csrf_token %}
                            <p class="bs-component">
                                <table>
                                    <tr>
                                        <td style="margin: 5px 5px 5px 5px; padding: 5px 5px 5px 5px;">{{ form.username.label_tag }}</td>
                                        <td id="sign-up-form">{{ form.username }}</td>
                                    </tr>
                                    <tr>
                                        <td style="margin: 5px 5px 5px 5px; padding: 5px 5px 5px 5px;">{{ form.password1.label_tag }}</td>
                                        <td id="sign-up-form">{{ form.password1 }}</td>
                                    </tr>
                                    <tr>
                                        <td style="margin: 5px 5px 5px 5px; padding: 5px 5px 5px 5px;">{{ form.password2.label_tag }}</td>
                                        <td id="sign-up-form">{{ form.password2 }}</td>
                                    </tr>
                                </table>
                            </p>
                            <p class="bs-component">
                                <center>
                                    <input class="btn btn-success btn-md" type="submit" value="Sign Up" />
                                </center>
                            </p>
                        </form>
                        <p class="bs-component">
                            <center>
                                <input class="btn btn-primary btn-md" onclick="location.href = '/connect4/login/';"type="submit" value="Back To Log In" />
                            </center>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block javascript %}
    <script>
        {% if not request.user.is_authenticated %}
            $("#create-game-btn").hide();
            $("#user-account").hide();
        {% endif %}
    </script>
{% endblock %}